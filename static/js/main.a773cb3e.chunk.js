(this.webpackJsonpavia=this.webpackJsonpavia||[]).push([[0],{10:function(t,e,r){t.exports={page_tickets:"Filter_page_tickets__2DLrC",wraper_filter:"Filter_wraper_filter__Sg6ZU",header_text:"Filter_header_text__lQJ-r",checkbox_filter:"Filter_checkbox_filter__3849t",checkbox_none:"Filter_checkbox_none__2U1fn",checkbox__text:"Filter_checkbox__text__1kLUF",checkbox:"Filter_checkbox__1SOEF"}},3:function(t,e,r){t.exports={wrapper:"Tickets_wrapper__2vhI6",logo:"Tickets_logo__1WK4s",tickets_container:"Tickets_tickets_container__2t2tF",container_price:"Tickets_container_price__27PLk",price:"Tickets_price__tpwq9",photo:"Tickets_photo__3kXPJ",blog_departure:"Tickets_blog_departure__3TwaI",blog_departure_flex:"Tickets_blog_departure_flex__3Yl8X",blog_departure_top:"Tickets_blog_departure_top__1JyLp",blog_departure_bottom:"Tickets_blog_departure_bottom__1tKTz",area_button_add:"Tickets_area_button_add__1F8IS",button_add:"Tickets_button_add__3JXi0",button_text:"Tickets_button_text__au3Aw",sorting:"Tickets_sorting__1r-LE",sorting_buttun:"Tickets_sorting_buttun__2wpEE",sorting_buttun_active:"Tickets_sorting_buttun_active__2VmR5",active:"Tickets_active__31DR_",error:"Tickets_error__3hlXH",logo_error:"Tickets_logo_error__26Ny-"}},41:function(t,e,r){t.exports={preloader:"App_preloader__2vZNP"}},52:function(t,e,r){},79:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),c=r(22),s=r.n(c),i=(r(52),r(23)),o=r(24),u=r(26),l=r(25),_=r(41),b=r.n(_),p=r(4),d=r(46),j=r(17),h=r(18),g=r.n(h),x=r(29),O=r(47),m=r(11),f=r(30),k={ID:null,tickets:[],initialize:!1},v=function(t){return{type:"SET_TICKETS",tickets:t}},N=function(){var t=Object(x.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=k.ID,f.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(r));case 3:if(!1!==(e=t.sent).data.stop){t.next=8;break}return t.abrupt("return",N());case 8:return t.abrupt("return",e);case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",N());case 14:case"end":return t.stop()}var r}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_INITISLIZED_ID":return Object(m.a)(Object(m.a)({},t),{},{ID:e.ID});case"SET_TICKETS":return Object(m.a)(Object(m.a)({},t),{},{tickets:Object(O.a)(e.tickets)});case"SET_INITIALIZE":return Object(m.a)(Object(m.a)({},t),{},{initialize:e.boole});default:return t}},I=r.p+"static/media/preloader.c2792c0d.gif",D=r(14),F=r(43),S=Object(D.b)({app:T}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,w=Object(D.d)(S,E(Object(D.a)(F.a))),y=r(44),B=r(19),L=r(3),C=r.n(L),z=r(1),M=function(t){var e,r,a=t.index;return Object(z.jsxs)("div",{className:C.a.blog_departure,children:[Object(z.jsxs)("div",{className:C.a.blog_departure_flex,children:[Object(z.jsx)("div",{className:C.a.blog_departure_top,children:a.origin+" - "+a.destination}),Object(z.jsx)("div",{className:C.a.blog_departure_bottom,children:function(t,e){var r=t.match(/\d+/g),a=new Date(+r[0],+r[1],+r[2],+(r[3]+Math.trunc(e/60)),+(r[4]+e%60),+r[5]),n=a.getHours()<10?"0"+a.getHours():a.getHours(),c=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes();return r[3]+":"+r[4]+" - "+n+":"+c}(a.date,a.duration)})]}),Object(z.jsxs)("div",{className:C.a.blog_departure_flex,children:[Object(z.jsx)("div",{className:C.a.blog_departure_top,children:" \u0412 \u043f\u0443\u0442\u0438"}),Object(z.jsx)("div",{className:C.a.blog_departure_bottom,children:(r=a.duration,Math.trunc(r/60)+"\u0447 "+r%60+"\u043c")})]}),Object(z.jsxs)("div",{className:C.a.blog_departure_flex,children:[Object(z.jsx)("div",{className:C.a.blog_departure_top,children:(e=a.stops,1==e.length?e.length+" \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":0==e.length?"\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":e.length+" \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")}),Object(z.jsx)("div",{className:C.a.blog_departure_bottom,children:String(a.stops).replace(/,/g,", ")})]})]})},P=r.p+"static/media/Logo.0293420c.png",J=function(t){var e=t.tickets,r=t.get\u0421heapPriceDispatch,n=t.getQuickTicketDispatch,c=t.isButton,s=void 0===c||c,i=Object(a.useState)(5),o=Object(B.a)(i,2),u=o[0],l=o[1],_=Object(a.useState)(!0),b=Object(B.a)(_,2),p=b[0],d=b[1],j=Object(a.useState)(!1),h=Object(B.a)(j,2),g=h[0],x=h[1],O=Object(a.useState)(!1),m=Object(B.a)(O,2),f=m[0],k=m[1],v=[];if(e.length<=5)for(var N=0;N<e.length;N++)v.push(e[N]),s=!1;else for(var T=0;T<u;T++)v.push(e[T]);var I=function(t){1==t?(x(!0),k(!1)):(x(!1),k(!0))};return Object(z.jsxs)("div",{className:C.a.wrapper,children:[Object(z.jsx)("img",{src:P,alt:"",className:C.a.logo}),Object(z.jsxs)("div",{className:C.a.sorting,children:[Object(z.jsxs)("button",{onClick:function(){r(e),I(1)},className:g?C.a.sorting_buttun+" "+C.a.active:C.a.sorting_buttun,children:["  ",Object(z.jsx)("p",{children:"\u0441\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"})]}),Object(z.jsx)("button",{onClick:function(){n(e),I(2)},className:f?C.a.sorting_buttun+" "+C.a.active:C.a.sorting_buttun,children:Object(z.jsx)("p",{children:"\u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"})})]}),Object(z.jsxs)("div",{children:[" ",Object.values(v).map((function(t){return Object(z.jsxs)("div",{className:C.a.tickets_container,children:[Object(z.jsxs)("div",{className:C.a.container_price,children:[Object(z.jsx)("div",{className:C.a.price,children:(e=t.price,e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" \u0420")}),Object(z.jsx)("div",{style:{backgroundImage:"url(//pics.avs.io/99/36/".concat(t.carrier,".png")},className:C.a.photo})]}),Object(z.jsx)(M,{index:t.segments[0]}),Object(z.jsx)(M,{index:t.segments[1]})]});var e})),Object(z.jsxs)("div",{className:C.a.area_button_add,children:[" ",s&&p&&Object(z.jsx)("button",{onClick:function(){e.length-5<u?(l(u+e.length%5),d(!1)):e.length-5==u?(l(u+5),d(!1)):l(u+5)},className:C.a.button_add,children:Object(z.jsx)("p",{className:C.a.button_text,children:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435 5 \u0431\u0438\u043b\u0435\u0442\u043e\u0432!"})})]})]})]})},X=r(10),Z=r.n(X),A=function(t){var e=t.num,r=t.text,a=t.getFilter,n=t.returnBoolean;return Object(z.jsx)("div",{className:Z.a.checkbox_filter,children:Object(z.jsxs)("label",{className:Z.a.checkbox,children:[Object(z.jsx)("input",{type:"checkbox",checked:n(e),className:Z.a.checkbox_none,onClick:function(){return a(e)}}),Object(z.jsx)("div",{className:Z.a.checkbox__text,children:Object(z.jsxs)("p",{children:[" ",r," "]})})]})})},Q=function(t){Object(u.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).state={ticketsLocal:t.props.tickets,num:[]},t.getNumFilter=function(e){if(t.state.num.some((function(t){return"all"==t&&"all"!=e})))return t.state.num=[],t.state.num.push(e),t.state.num;if(t.state.num.some((function(t){return t==e&&"all"!=t}))||"all"==e){if(t.state.num.some((function(t){return"all"==t&&"all"==e})))return t.state.num=[],t.state.num;if("all"==e)return t.state.num=[],t.state.num.push("all"),t.state.num;var r=t.state.num.indexOf(e);return t.state.num.splice(r,1),t.state.num}return t.state.num.push(e),t.state.num},t.getFilter=function(e){var r=[],a=t.props.tickets,n=t.getNumFilter(e);r=0==n.length||"all"==n?a:n.map((function(t){return a.filter((function(e){return e.segments[0].stops.length==t&&e.segments[1].stops.length==t}))})),t.setState({ticketsLocal:r.flat()})},t.returnBoolean=function(e){var r,a=Object(y.a)(t.state.num);try{for(a.s();!(r=a.n()).done;){if(e==r.value)return!0}}catch(n){a.e(n)}finally{a.f()}},t}return Object(o.a)(r,[{key:"render",value:function(){return Object(z.jsxs)("div",{className:Z.a.page_tickets,children:[Object(z.jsxs)("div",{className:Z.a.wraper_filter,children:[Object(z.jsx)("div",{className:Z.a.header_text,children:Object(z.jsxs)("div",{className:"checkbox__text",children:["  ",Object(z.jsx)("p",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0442\u0441\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"})," "]})}),Object(z.jsx)(A,{num:"all",text:"\u0412\u0441\u0435",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(z.jsx)(A,{num:0,text:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(z.jsx)(A,{num:1,text:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(z.jsx)(A,{num:2,text:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(z.jsx)(A,{num:3,text:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",getFilter:this.getFilter,returnBoolean:this.returnBoolean})]}),0==!this.state.ticketsLocal.length?Object(z.jsx)(J,{tickets:this.state.ticketsLocal,"get\u0421heapPriceDispatch":this.props.get\u0421heapPriceDispatch,getQuickTicketDispatch:this.props.getQuickTicketDispatch}):Object(z.jsxs)("div",{className:Z.a.error,children:[Object(z.jsx)("img",{src:P,alt:"",className:Z.a.logo_error}),Object(z.jsx)("p",{children:"\u041d\u0435\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c"})]})]})}}]),r}(n.a.Component),H=Object(j.b)((function(t){return{ID:t.app.ID,tickets:t.app.tickets,initialize:t.app.initialize}}),{"get\u0421heapPriceDispatch":function(t){var e=t.sort((function(t,e){return t.price-e.price}));return function(t){t(v(e))}},getQuickTicketDispatch:function(t){var e=t.sort((function(t,e){return t.segments[0].duration+t.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)}));return function(t){t(v(e))}}})(Q),K=function(t){Object(u.a)(r,t);var e=Object(l.a)(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.startDispatch()}},{key:"render",value:function(){return this.props.initialize?Object(z.jsx)(p.a,{path:"",render:function(){return Object(z.jsx)(n.a.Suspense,{fallback:Object(z.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(z.jsx)(H,{})})}}):Object(z.jsxs)("div",{children:[" ",Object(z.jsx)("img",{src:I,className:b.a.preloader})," "]})}}]),r}(n.a.Component),U=Object(j.b)((function(t){return{initialize:t.app.initialize}}),{startDispatch:function(){return function(){var t=Object(x.a)(g.a.mark((function t(e){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.get("https://front-test.beta.aviasales.ru/search");case 2:r=t.sent,e({type:"SET_INITISLIZED_ID",ID:r.data.searchId}),k.ID=r.data.searchId,N().then((function(t){return e(v(t.data.tickets)),e({type:"SET_INITIALIZE",boole:!0})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(K),R=function(t){return Object(z.jsx)(d.a,{basename:"/avia",children:Object(z.jsx)(n.a.StrictMode,{children:Object(z.jsx)(j.a,{store:w,children:Object(z.jsx)(U,{})})})})};s.a.render(Object(z.jsx)(R,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.a773cb3e.chunk.js.map