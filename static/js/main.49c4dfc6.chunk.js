(this.webpackJsonpavia=this.webpackJsonpavia||[]).push([[0],{3:function(t,e,r){t.exports={wrapper:"Tickets_wrapper__2vhI6",logo:"Tickets_logo__1WK4s",tickets_container:"Tickets_tickets_container__2t2tF",container_price:"Tickets_container_price__27PLk",price:"Tickets_price__tpwq9",photo:"Tickets_photo__3kXPJ",blog_departure:"Tickets_blog_departure__3TwaI",blog_departure_flex:"Tickets_blog_departure_flex__3Yl8X",blog_departure_top:"Tickets_blog_departure_top__1JyLp",blog_departure_bottom:"Tickets_blog_departure_bottom__1tKTz",area_button_add:"Tickets_area_button_add__1F8IS",button_add:"Tickets_button_add__3JXi0",button_text:"Tickets_button_text__au3Aw",sorting:"Tickets_sorting__1r-LE",sorting_buttun:"Tickets_sorting_buttun__2wpEE",sorting_buttun_active:"Tickets_sorting_buttun_active__2VmR5",active:"Tickets_active__31DR_",error:"Tickets_error__3hlXH",logo_error:"Tickets_logo_error__26Ny-"}},38:function(t,e,r){t.exports={preloader:"App_preloader__2vZNP"}},49:function(t,e,r){},7:function(t,e,r){t.exports={page_tickets:"Filter_page_tickets__2DLrC",wraper_filter:"Filter_wraper_filter__Sg6ZU",header_text:"Filter_header_text__lQJ-r",checkbox_filter:"Filter_checkbox_filter__3849t",checkbox_none:"Filter_checkbox_none__2U1fn",checkbox__text:"Filter_checkbox__text__1kLUF",checkbox:"Filter_checkbox__1SOEF"}},76:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),c=r(19),s=r.n(c),i=(r(49),r(20)),o=r(21),u=r(23),l=r(22),_=r(38),b=r.n(_),p=r(43),d=r(14),j=r(15),h=r.n(j),g=r(26),x=r(44),m=r(8),O=r(27),f={ID:null,tickets:[],initialize:!1},k=function(t){return{type:"SET_TICKETS",tickets:t}},v=function(){var t=Object(g.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=f.ID,O.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(r));case 3:if(!1!==(e=t.sent).data.stop){t.next=8;break}return t.abrupt("return",v());case 8:return t.abrupt("return",e);case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",v());case 14:case"end":return t.stop()}var r}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_INITISLIZED_ID":return Object(m.a)(Object(m.a)({},t),{},{ID:e.ID});case"SET_TICKETS":return Object(m.a)(Object(m.a)({},t),{},{tickets:Object(x.a)(e.tickets)});case"SET_INITIALIZE":return Object(m.a)(Object(m.a)({},t),{},{initialize:e.boole});default:return t}},T=r.p+"static/media/preloader.c2792c0d.gif",I=r(11),D=r(40),F=Object(I.b)({app:N}),S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.c,E=Object(I.d)(F,S(Object(I.a)(D.a))),w=r(41),y=r(16),B=r(3),L=r.n(B),C=r(1),z=function(t){var e,r,a=t.index;return Object(C.jsxs)("div",{className:L.a.blog_departure,children:[Object(C.jsxs)("div",{className:L.a.blog_departure_flex,children:[Object(C.jsx)("div",{className:L.a.blog_departure_top,children:a.origin+" - "+a.destination}),Object(C.jsx)("div",{className:L.a.blog_departure_bottom,children:function(t,e){var r=t.match(/\d+/g),a=new Date(+r[0],+r[1],+r[2],+(r[3]+Math.trunc(e/60)),+(r[4]+e%60),+r[5]),n=a.getHours()<10?"0"+a.getHours():a.getHours(),c=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes();return r[3]+":"+r[4]+" - "+n+":"+c}(a.date,a.duration)})]}),Object(C.jsxs)("div",{className:L.a.blog_departure_flex,children:[Object(C.jsx)("div",{className:L.a.blog_departure_top,children:" \u0412 \u043f\u0443\u0442\u0438"}),Object(C.jsx)("div",{className:L.a.blog_departure_bottom,children:(r=a.duration,Math.trunc(r/60)+"\u0447 "+r%60+"\u043c")})]}),Object(C.jsxs)("div",{className:L.a.blog_departure_flex,children:[Object(C.jsx)("div",{className:L.a.blog_departure_top,children:(e=a.stops,1==e.length?e.length+" \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":0==e.length?"\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":e.length+" \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")}),Object(C.jsx)("div",{className:L.a.blog_departure_bottom,children:String(a.stops).replace(/,/g,", ")})]})]})},M=r.p+"static/media/Logo.0293420c.png",P=function(t){var e=t.tickets,r=t.get\u0421heapPriceDispatch,n=t.getQuickTicketDispatch,c=t.isButton,s=void 0===c||c,i=Object(a.useState)(5),o=Object(y.a)(i,2),u=o[0],l=o[1],_=Object(a.useState)(!0),b=Object(y.a)(_,2),p=b[0],d=b[1],j=Object(a.useState)(!1),h=Object(y.a)(j,2),g=h[0],x=h[1],m=Object(a.useState)(!1),O=Object(y.a)(m,2),f=O[0],k=O[1],v=[];if(e.length<=5)for(var N=0;N<e.length;N++)v.push(e[N]),s=!1;else for(var T=0;T<u;T++)v.push(e[T]);var I=function(t){1==t?(x(!0),k(!1)):(x(!1),k(!0))};return Object(C.jsxs)("div",{className:L.a.wrapper,children:[Object(C.jsx)("img",{src:M,alt:"",className:L.a.logo}),Object(C.jsxs)("div",{className:L.a.sorting,children:[Object(C.jsxs)("button",{onClick:function(){r(e),I(1)},className:g?L.a.sorting_buttun+" "+L.a.active:L.a.sorting_buttun,children:["  ",Object(C.jsx)("p",{children:"\u0441\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"})]}),Object(C.jsx)("button",{onClick:function(){n(e),I(2)},className:f?L.a.sorting_buttun+" "+L.a.active:L.a.sorting_buttun,children:Object(C.jsx)("p",{children:"\u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"})})]}),Object(C.jsxs)("div",{children:[" ",Object.values(v).map((function(t){return Object(C.jsxs)("div",{className:L.a.tickets_container,children:[Object(C.jsxs)("div",{className:L.a.container_price,children:[Object(C.jsx)("div",{className:L.a.price,children:(e=t.price,e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" \u0420")}),Object(C.jsx)("div",{style:{backgroundImage:"url(//pics.avs.io/99/36/".concat(t.carrier,".png")},className:L.a.photo})]}),Object(C.jsx)(z,{index:t.segments[0]}),Object(C.jsx)(z,{index:t.segments[1]})]});var e})),Object(C.jsxs)("div",{className:L.a.area_button_add,children:[" ",s&&p&&Object(C.jsx)("button",{onClick:function(){e.length-5<u?(l(u+e.length%5),d(!1)):e.length-5==u?(l(u+5),d(!1)):l(u+5)},className:L.a.button_add,children:Object(C.jsx)("p",{className:L.a.button_text,children:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435 5 \u0431\u0438\u043b\u0435\u0442\u043e\u0432!"})})]})]})]})},J=r(7),X=r.n(J),Z=function(t){var e=t.num,r=t.text,a=t.getFilter,n=t.returnBoolean;return Object(C.jsx)("div",{className:X.a.checkbox_filter,children:Object(C.jsxs)("label",{className:X.a.checkbox,children:[Object(C.jsx)("input",{type:"checkbox",checked:n(e),className:X.a.checkbox_none,onClick:function(){return a(e)}}),Object(C.jsx)("div",{className:X.a.checkbox__text,children:Object(C.jsxs)("p",{children:[" ",r," "]})})]})})},A=function(t){Object(u.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).state={ticketsLocal:t.props.tickets,num:[]},t.getNumFilter=function(e){if(t.state.num.some((function(t){return"all"==t&&"all"!=e})))return t.state.num=[],t.state.num.push(e),t.state.num;if(t.state.num.some((function(t){return t==e&&"all"!=t}))||"all"==e){if(t.state.num.some((function(t){return"all"==t&&"all"==e})))return t.state.num=[],t.state.num;if("all"==e)return t.state.num=[],t.state.num.push("all"),t.state.num;var r=t.state.num.indexOf(e);return t.state.num.splice(r,1),t.state.num}return t.state.num.push(e),t.state.num},t.getFilter=function(e){var r=[],a=t.props.tickets,n=t.getNumFilter(e);r=0==n.length||"all"==n?a:n.map((function(t){return a.filter((function(e){return e.segments[0].stops.length==t&&e.segments[1].stops.length==t}))})),t.setState({ticketsLocal:r.flat()})},t.returnBoolean=function(e){var r,a=Object(w.a)(t.state.num);try{for(a.s();!(r=a.n()).done;){if(e==r.value)return!0}}catch(n){a.e(n)}finally{a.f()}},t}return Object(o.a)(r,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:X.a.page_tickets,children:[Object(C.jsxs)("div",{className:X.a.wraper_filter,children:[Object(C.jsx)("div",{className:X.a.header_text,children:Object(C.jsxs)("div",{className:"checkbox__text",children:["  ",Object(C.jsx)("p",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0442\u0441\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"})," "]})}),Object(C.jsx)(Z,{num:"all",text:"\u0412\u0441\u0435",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(C.jsx)(Z,{num:0,text:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(C.jsx)(Z,{num:1,text:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(C.jsx)(Z,{num:2,text:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",getFilter:this.getFilter,returnBoolean:this.returnBoolean}),Object(C.jsx)(Z,{num:3,text:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",getFilter:this.getFilter,returnBoolean:this.returnBoolean})]}),0==!this.state.ticketsLocal.length?Object(C.jsx)(P,{tickets:this.state.ticketsLocal,"get\u0421heapPriceDispatch":this.props.get\u0421heapPriceDispatch,getQuickTicketDispatch:this.props.getQuickTicketDispatch}):Object(C.jsxs)("div",{className:X.a.error,children:[Object(C.jsx)("img",{src:M,alt:"",className:X.a.logo_error}),Object(C.jsx)("p",{children:"\u041d\u0435\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c"})]})]})}}]),r}(n.a.Component),Q=Object(d.b)((function(t){return{ID:t.app.ID,tickets:t.app.tickets,initialize:t.app.initialize}}),{"get\u0421heapPriceDispatch":function(t){var e=t.sort((function(t,e){return t.price-e.price}));return function(t){t(k(e))}},getQuickTicketDispatch:function(t){var e=t.sort((function(t,e){return t.segments[0].duration+t.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)}));return function(t){t(k(e))}}})(A),H=function(t){Object(u.a)(r,t);var e=Object(l.a)(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.startDispatch()}},{key:"render",value:function(){return this.props.initialize?Object(C.jsx)(Q,{}):Object(C.jsxs)("div",{children:[" ",Object(C.jsx)("img",{src:T,className:b.a.preloader})," "]})}}]),r}(n.a.Component),K=Object(d.b)((function(t){return{initialize:t.app.initialize}}),{startDispatch:function(){return function(){var t=Object(g.a)(h.a.mark((function t(e){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.get("https://front-test.beta.aviasales.ru/search");case 2:r=t.sent,e({type:"SET_INITISLIZED_ID",ID:r.data.searchId}),f.ID=r.data.searchId,v().then((function(t){return e(k(t.data.tickets)),e({type:"SET_INITIALIZE",boole:!0})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(H),U=function(t){return Object(C.jsx)(p.a,{basename:"/avia",children:Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(d.a,{store:E,children:Object(C.jsx)(K,{})})})})};s.a.render(Object(C.jsx)(U,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.49c4dfc6.chunk.js.map